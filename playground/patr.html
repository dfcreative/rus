<!DOCTYPE html>

<meta charset="utf-8">
<title>Debug</title>

<input type="text" id="name" placeholder="∀ word"/>
<output id="result"></output>

<script>

	//app
	var $input = document.getElementById("name"); 
	var $output = document.getElementById("result"); 


	$input.addEventListener("keyup", function(e){
		$output.value = patrName($input.value);
	})


	//utils
	var pfTable = {
		"врикий": "врикиевич|врикьевич врикиевна|врикьевна",
		"аверий": "авериевич|аверьевич авериевна|аверьевна",
		"игорий": "игорьевич игорьевна",
		"стахий": "стахиевич|стахьевич стахиевна|стахьевна",
		"импий": "импиевич импиевна",
		"силий": "сильевич сильевна",
		"Милий": "Милиевич Милиевна",
		"верий": "вериевич вериевна",
		"Гелий": "Гелиевич Гелиевна",
		"Радий": "Радиевич Радиевна",
		"горий": "гориевич|горьевич гориевна|горьевна",
		"иопий": "иопиевич иопиевна",
		"ахий": "ахиевич ахиевна",
		"орий": "ориевич ориевна",
		"маил": "маилович|майлович маиловна|майловна",
		"мила": "милич милична",
		"грий": "гриевич гриевна",
		"клий": "клиевич клиевна",
		"ксий": "ксиевич ксиевна",
		"рмий": "рмиевич рмиевна",
		"Юрий": "Юрьевич Юрьевна",
		"хаил": "хайлович хайловна",
		"фрий": "фриевич фриевна",
		"вила": "вилич|вилович вилична|виловна",
		"рила": "рильевич|рилович рильевна|риловна",
		"Сила": "Силич Силовна",
		"трий": "триевич триевна",
		"ртий": "ртиевич ртиевна",
		"вдий": "вдиевич вдиевна",
		"рил": "рильевич|рилович рильевна|риловна",
		"кий": "киевич киевна",
		"ций": "циевич циевна",
		"ков": "ковлевич ковлевна",
		"има": "имич имична",
		"иль": "ильевич ильевна",
		"ока": "окич окична",
		"вел": "влович вловна",
		"ётр": "етрович етровна",
		"ула": "улич улична",
		"гий": "гиевич гиевна",
		"ла": "лович ловна",
		"ов": "ович овна",
		"ев": "ьвович ьвовна",
		"ий": "иевич|ьевич иевна|ьевна",
		"ма": "мич минична",
		"ка": "кич кинична",
		"ня": "нич нична",
		"ь": "евич евна",
		"л": "лович ловна",
		"я": "ич инична",
		"й": "евич евна",
		"в": "вович|вич вовна|вна",
		"а": "ич ична",
		"о": "ович овна",
		"": "ович овна"
	} 

	//main name resolver
	function patrName(nForm){
		for (var i = nForm.length; i >= 0; i--){
			var pf = nForm.slice(nForm.length - i, nForm.length);
			if (pfTable[pf]){
				return prefixize(pfTable[pf], nForm.slice(0, nForm.length - i))
			}
		}
	}

	//gets "ович овна|евна", returns "рович ровна|ревна"
	function prefixize(forms, prefix){
		var result = "";
		var forms = forms.split(" ");
		for (var i = 0; i < forms.length; i++){
			var alts = forms[i].split("|");
			for (var j = 0; j < alts.length; j++){
				result += prefix + alts[j] + "|"
			}
			result = result.slice(0, -1) + " ";
		}
		return result.slice(0, -1);
	}	
</script>